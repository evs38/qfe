diff -urN hpt.orig/Makefile hpt/Makefile
--- hpt.orig/Makefile	2003-12-15 13:08:05.000000000 +0300
+++ hpt/Makefile	2007-01-27 16:23:06.000000000 +0300
@@ -6,7 +6,7 @@
 include ../huskymak.cfg
 endif
 
-SRC_DIR = src$(DIRSEP)
+SRC_DIR = src/
 
 ifeq ($(DEBUG), 1)
   CFLAGS = -Ih -I$(INCDIR) $(DEBCFLAGS) $(WARNFLAGS)
diff -urN hpt.orig/src/carbon.c hpt/src/carbon.c
--- hpt.orig/src/carbon.c	2006-12-21 10:14:35.000000000 +0300
+++ hpt/src/carbon.c	2007-01-27 11:45:30.000000000 +0300
@@ -156,7 +156,7 @@
 int processCarbonCopy (s_area *area, s_area *echo, s_message *msg, s_carbon carbon)
 {
     char *p, *text, *line, *old_text, *reason = carbon.reason;
-    int i, old_textLength, export = carbon.export, rc = 0;
+    int i, old_textLength, h_export = carbon.h_export, rc = 0;
 
     statToss.CC++;
 
@@ -187,9 +187,9 @@
 
     if (!msg->netMail) {
         xstrscat(&msg->text,
-                 (export) ? "AREA:" : "",
-                 (export) ? area->areaName : "",
-                 (export) ? "\r" : "",
+                 (h_export) ? "AREA:" : "",
+                 (h_export) ? area->areaName : "",
+                 (h_export) ? "\r" : "",
                  "\001AREA:", echo->areaName,
                  "\r" , NULL);
     }
@@ -236,7 +236,7 @@
     strncat(msg->text,text,i); /*  copy rest of msg */
     msg->textLength += i;
 
-    if (!export) {
+    if (!h_export) {
 	if (msg->netMail) rc = putMsgInArea(area,msg,0,MSGSENT);
 	else rc = putMsgInArea(area,msg,0,0);
 	area->imported++;  /*  area has got new messages */
diff -urN hpt.orig/src/hptafix.c hpt/src/hptafix.c
--- hpt.orig/src/hptafix.c	2007-01-10 12:33:47.000000000 +0300
+++ hpt/src/hptafix.c	2007-01-27 11:45:30.000000000 +0300
@@ -117,7 +117,7 @@
                   if (rescanCount < 0 || rescanCount > link->rescanLimit)
                     rescanCount = link->rescanLimit;
                 }
-                if (arealink->export) {
+                if (arealink->h_export) {
                     rcc = rescanEMArea(area, arealink, rescanCount, rescanAfter);
                     tossTempOutbound(config->tempOutbound);
                 } else {
diff -urN hpt.orig/src/perl.c hpt/src/perl.c
--- hpt.orig/src/perl.c	2007-01-10 12:33:47.000000000 +0300
+++ hpt/src/perl.c	2007-01-27 11:45:30.000000000 +0300
@@ -165,7 +165,7 @@
   else if ((attr & 0x20000) || (attr & 0x202) == 0x202) return direct;
   else if (attr & 0x200) return hold;
   else if (attr & 2) return crash;
-  else return normal;
+  else return f_normal;
 }
 /* flavour to flag */
 static unsigned long flv2flag(e_flavour flv) {
@@ -190,7 +190,7 @@
 /* smart string flavour parsing */
 static e_flavour str2flv(char *flv) {
 struct flv_data_s { e_flavour f; char c; char *s1; char *s2; };
-const struct flv_data_s flv_data[] = { { normal, 'n', "norm", "normal" },
+const struct flv_data_s flv_data[] = { { f_normal, 'n', "norm", "normal" },
                                        { hold, 'h', "hld", "hold" },
                                        { crash, 'c', "cra", "crash" },
                                        { direct, 'd', "dir", "direct" },
@@ -1232,8 +1232,8 @@
                             1 | config->echoAreas[i].downlinks[j]->defLink << 1
                             | config->echoAreas[i].downlinks[j]->manual << 2
                             | config->echoAreas[i].downlinks[j]->mandatory << 3
-                            | config->echoAreas[i].downlinks[j]->import << 4
-                            | config->echoAreas[i].downlinks[j]->export << 5
+                            | config->echoAreas[i].downlinks[j]->h_import << 4
+                            | config->echoAreas[i].downlinks[j]->h_export << 5
                            );
           }
           /* val r/o: SvREADONLY_on(hv3); */
@@ -1630,7 +1630,7 @@
                 sv_setpv(svroute, aka2str(defroute->target->hisAka));
         else /* noroute */
                 sv_setpv(svroute, aka2str(msg->destAddr));
-        if (defroute->flavour==normal)
+        if (defroute->flavour==f_normal)
             sv_setpv(svflv, "normal");
         else if (defroute->flavour==hold)
             sv_setpv(svflv, "hold");
@@ -1738,7 +1738,7 @@
                else if ( (route.flavour = str2flv(flv)) != -1 ) ;
     #else
                else if (stricmp(flv, "normal") == 0)
-                 route.flavour = normal;
+                 route.flavour = f_normal;
                else if (stricmp(flv, "hold") == 0)
                  route.flavour = hold;
                else if (stricmp(flv, "crash") == 0)
diff -urN hpt.orig/src/scan.c hpt/src/scan.c
--- hpt.orig/src/scan.c	2007-01-10 12:33:47.000000000 +0300
+++ hpt/src/scan.c	2007-01-27 11:45:30.000000000 +0300
@@ -480,7 +480,7 @@
 int packMsg(HMSG SQmsg, XMSG *xmsg, s_area *area)
 {
    FILE        *pkt = NULL;
-   e_flavour   prio = normal;
+   e_flavour   prio = f_normal;
    s_message   msg;
    s_pktHeader header;
    s_route     *route = NULL;
@@ -541,7 +541,7 @@
        /*  file attach */
 	
        /*  we need route mail */
-       if (prio==normal) {
+       if (prio==f_normal) {
 	   route = findRouteForNetmail(&msg);
 	   link = getLinkForRoute(route, &msg);
 	   if ((route != NULL) && (link != NULL) &&
@@ -576,7 +576,7 @@
    /*  file requests always direct */
    if ((xmsg->attr & MSGFRQ) == MSGFRQ) {
 	   /*  if msg has request flag then put the subjectline into request file. */
-	   if (createOutboundFileName(virtualLink, normal, REQUEST) == 0) {
+	   if (createOutboundFileName(virtualLink, f_normal, REQUEST) == 0) {
 		   processRequests(virtualLink, &msg);
 		   remove(virtualLink->bsyFile);
 		   nfree(virtualLink->bsyFile);
@@ -592,7 +592,7 @@
    w_log(LL_DEBUGB, "%s::%u Msg from %u:%u/%u.%u to %u:%u/%u.%u",__FILE__,__LINE__, msg.origAddr.zone, msg.origAddr.net, msg.origAddr.node, msg.origAddr.point, msg.destAddr.zone, msg.destAddr.net, msg.destAddr.node, msg.destAddr.point );
 
    /*  no route */
-   if (prio!=normal || (xmsg->attr & MSGFRQ)==MSGFRQ) {
+   if (prio!=f_normal || (xmsg->attr & MSGFRQ)==MSGFRQ) {
 	   /*  direct, crash, immediate, hold messages */
            if (virtualLink->arcNetmail &&
                prio == virtualLink->echoMailFlavour) {
@@ -620,7 +620,7 @@
 		   else if (prio==hold) w_log(LL_ROUTE, "Hold-Msg packed: %u:%u/%u.%u -> %u:%u/%u.%u", msg.origAddr.zone, msg.origAddr.net, msg.origAddr.node, msg.origAddr.point, msg.destAddr.zone, msg.destAddr.net, msg.destAddr.node, msg.destAddr.point);
 		   else if (prio==direct) w_log(LL_ROUTE, "Direct-Msg packed: %u:%u/%u.%u -> %u:%u/%u.%u", msg.origAddr.zone, msg.origAddr.net, msg.origAddr.node, msg.origAddr.point, msg.destAddr.zone, msg.destAddr.net, msg.destAddr.node, msg.destAddr.point);
 		   else if (prio==immediate) w_log(LL_ROUTE, "Immediate-Msg packed: %u:%u/%u.%u -> %u:%u/%u.%u", msg.origAddr.zone, msg.origAddr.net, msg.origAddr.node, msg.origAddr.point, msg.destAddr.zone, msg.destAddr.net, msg.destAddr.node, msg.destAddr.point);
-		   else if (prio==normal) w_log(LL_ROUTE, "Normal-Msg packed: %u:%u/%u.%u -> %u:%u/%u.%u", msg.origAddr.zone, msg.origAddr.net, msg.origAddr.node, msg.origAddr.point, msg.destAddr.zone, msg.destAddr.net, msg.destAddr.node, msg.destAddr.point);
+		   else if (prio==f_normal) w_log(LL_ROUTE, "Normal-Msg packed: %u:%u/%u.%u -> %u:%u/%u.%u", msg.origAddr.zone, msg.origAddr.net, msg.origAddr.node, msg.origAddr.point, msg.destAddr.zone, msg.destAddr.net, msg.destAddr.node, msg.destAddr.point);
                    if (!arcNetmail) {
 		         remove(virtualLink->bsyFile);
 		         nfree(virtualLink->bsyFile);
diff -urN hpt.orig/src/seenby.c hpt/src/seenby.c
--- hpt.orig/src/seenby.c	2007-01-10 12:33:47.000000000 +0300
+++ hpt/src/seenby.c	2007-01-27 11:45:30.000000000 +0300
@@ -335,7 +335,7 @@
         if ( checkLink(seenBys, seenByCount, echo->downlinks[i]->link,
             pktOrigAddr, echo)!=0) continue;
         /*  link with "export off" */
-        if (echo->downlinks[i]->export == 0) continue;
+        if (echo->downlinks[i]->h_export == 0) continue;
         
         if (pktOrigAddr.zone==echo->downlinks[i]->link->hisAka.zone) {
             /*  links with same zone */
